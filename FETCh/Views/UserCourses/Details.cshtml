@model FETChModels.Models.Course

@{
    ViewData["Title"] = "Деталі курсу";
}

<h2 class="mt-3">@Model.Title</h2>

<div class="row mt-3">
    <div class="col-md-5">
        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <img src="@Model.ImageUrl" alt="@Model.Title" class="img-fluid rounded shadow-sm" />
        }
        else
        {
            <div class="bg-secondary text-white text-center p-5 rounded">Без зображення</div>
        }
    </div>
    <div class="col-md-7">
        <h4 class="text-muted">@Model.Subtitle</h4>
        <p><strong>Мова:</strong> @Model.Language</p>
        <p><strong>Тривалість:</strong> @Model.DurationHours годин</p>
        <p><strong>Категорія:</strong> @Model.Category?.Name</p>
        <p>
            <strong>Ціна:</strong>
            @if (Model.IsFree)
            {
                <span class="badge bg-success">Безкоштовно</span>
            }
            else
            {
                <span>@Model.Price.ToString() @Model.PriceCurrency</span>
            }
        </p>
        <p class="text-muted mt-3">@Model.Description</p>

        @* <form asp-action="Enroll" method="post">
            <input type="hidden" name="courseId" value="@Model.Id" />
            <button type="submit" class="btn btn-success">Записатися на курс</button>
            <a asp-action="Index" class="btn btn-secondary ms-2">↩️ Назад</a>
        </form> *@
    </div>
</div>

@if (Model.Modules != null && Model.Modules.Any())
{
    <h4 class="mt-4">📚 Модулі курсу</h4>
    <ul class="list-group mt-2">
        @foreach (var module in Model.Modules)
        {
            <li class="list-group-item">
                <strong>@module.Title</strong> — @module.Description
                @if (module.Lectures != null && module.Lectures.Any())
                {
                    <ul class="mt-2">
                        @foreach (var lecture in module.Lectures)
                        {
                            <li>🎥 @lecture.Title</li>
                        }
                    </ul>
                }
            </li>
        }
    </ul>
}
